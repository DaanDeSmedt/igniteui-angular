<ng-template #defaultPager let-api>
    <div *ngIf="api.paging && api.totalPages > 0" class="igx-paginator">
        <button [disabled]="api.isFirstPage" (click)="api.paginate(0)" igxButton="icon" igxRipple igxRippleCentered="true">
            <igx-icon fontSet="material" name="first_page"></igx-icon>
        </button>
        <button [disabled]="api.isFirstPage" (click)="api.previousPage()" igxButton="icon" igxRipple igxRippleCentered="true">
            <igx-icon fontSet="material" name="chevron_left"></igx-icon>
        </button>
        <span>{{ api.page + 1 }} of {{ api.totalPages }}</span>
        <button [disabled]="api.isLastPage" (click)="api.nextPage()" igxRipple igxRippleCentered="true" igxButton="icon">
            <igx-icon fontSet="material" name="chevron_right"></igx-icon>
        </button>
        <button [disabled]="api.isLastPage" (click)="api.paginate(api.totalPages - 1)" igxButton="icon" igxRipple igxRippleCentered="true">
            <igx-icon fontSet="material" name="last_page"></igx-icon>
        </button>
        <select style="margin-left: 1rem;" (change)="api.perPage = $event.target.value">
            <option [value]="val" [selected]="api.perPage == val" *ngFor="let val of [5, 10, 15, 25, 50, 100, 500]">{{ val }}</option>
        </select>
    </div>
</ng-template>


<div class="igx-grid__thead" role="rowgroup" [style.width.px]='calcWidth'>
    <div class="igx-grid__tr" role="row" style="width: calc(100% - 18px)" #theadRow>
        <ng-container *ngIf="pinnedStartColumns.length > 0">
            <igx-grid-header [gridID]="id" *ngFor="let col of pinnedStartColumns" [column]="col" [style.min-width.px]="col.width"></igx-grid-header>
        </ng-container>
        <ng-template igxFor let-col [igxForOf]="unpinnedColumns" [igxForScrollOrientation]="'horizontal'" [igxForScrollContainer]="parentVirtDir"
            [igxForContainerSize]='unpinnedWidth' #headerContainer>
            <igx-grid-header [gridID]="id" [column]="col" [style.min-width.px]="col.width"></igx-grid-header>
        </ng-template>
        <ng-container *ngIf="pinnedEndColumns.length > 0">
            <igx-grid-header [gridID]="id" *ngFor="let col of pinnedEndColumns" [column]="col" [style.min-width.px]="col.width"></igx-grid-header>
        </ng-container>
    </div>
</div>

<div class="igx-grid__tbody" role="rowgroup" [style.height.px]='calcHeight + pinnedRowsHeight' [style.width.px]='calcWidth'>
    <div *ngIf="pinnedRowsIndexes.length > 0" [style.height.px]="pinnedRowsHeight" [style.width]="'100%'" [style.borderBottom]="'1px solid #666'" 
        [style.overflow]="'hidden'" [style.paddingRight.px]="18" #theadPinnedTop>
        <ng-template igxFor let-pinnedRowData [igxForOf]="data | gridRowPinning:'pinned':id:pipeTrigger" let-rowIndex="index" let-dirty="dirty"
                    [igxForScrollOrientation]="'vertical'"
                    [igxForItemSize]="rowHeight">
            <igx-grid-row [gridID]="id" [index]="rowIndex" [rowData]="pinnedRowData" [isDirty]="dirty" [style.minHeight.px]="rowHeight">
            </igx-grid-row>
        </ng-template>
    </div>
    <div [style.height.px]='calcHeight' [style.width.px]='calcWidth'>
        <ng-template igxFor let-rowData [igxForOf]="data | gridRowPinning:'unpinned':id:pipeTrigger
                                | gridFiltering:filteringExpressions:filteringLogic:id:pipeTrigger
                                | gridSort:sortingExpressions:id:pipeTrigger
                                | gridPaging:page:perPage:id:pipeTrigger" let-rowIndex="index"
                                [igxForScrollOrientation]="'vertical'"
                                [igxForContainerSize]='calcHeight'
                                [igxForItemSize]="rowHeight"
                                 let-dirty="dirty"
                                 #verticalScrollContainer
                               >
           <igx-grid-row [gridID]="id" [index]="rowIndex + pinnedRowsIndexes.length" [rowData]="rowData" [isDirty]="dirty" [style.minHeight.px]="rowHeight">
           </igx-grid-row>
        </ng-template>
    </div>
</div>
<div [style.width]='width' [style.height]="'17px'" #scr>
	<div [style.width.px]='startPinnedWidth' style='float:left;height: 100%;'></div>
	<div [style.width.px]='unpinnedWidth'  style='float:left;'>
		<ng-template igxFor [igxForOf]='[]' #scrollContainer>
		</ng-template>
	</div>
    <div [style.width.px]='endPinnedWidth' style='float:right;'></div>
</div>

<div class="igx-grid__tfoot" role="rowgroup" #tfoot>
    <ng-container *ngTemplateOutlet="paginationTemplate ? paginationTemplate : defaultPager; context: { $implicit: this }">
    </ng-container>
</div>