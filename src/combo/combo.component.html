<ng-template #complex let-display let-data="data" let-key="valueKey">
    {{display[key]}}
</ng-template>
<ng-template #primitive let-display>
    {{display}}
</ng-template>
<ng-template #empty>
    <span>The list is empty</span>
</ng-template>
<ng-template #addItem>

    There are no items to be displayed.
    <div style="border: 1px dashed #3f3f3f;" (click)="addItemToCollection()">Add Item</div>

</ng-template>

<div class="igx-combo" [style.width]="width">
    <igx-input-group>
        <input igxInput name="comboInput" type="text" [(ngModel)]="value" width="90%" readonly/>
    </igx-input-group>
    <button (click)="toggle()" igxRipple width="10%">{{toggleDirective.collapsed ? "V" : "^"}}</button>
    <ng-container *ngIf="!toggleDirective.collapsed">
        <igx-input-group>
            <input igxInput #searchInput name="searchInput" type="text" [(ngModel)]="searchValue" (keyup)="handleKeyDown($event)" placeholder="Enter a search term"
            />
        </igx-input-group>
        <div>
            Select All:
            <igx-checkbox (change)="handleSelectAll($event)"></igx-checkbox>
        </div>
    </ng-container>
    <div class="igx-drop-down__list" igxToggle (onOpening)="onToggleOpening()" (onOpened)="onToggleOpened()" (onClosed)="onToggleClosed()">
        <ng-container *ngIf="!toggleDirective.collapsed">
            <ng-container *ngTemplateOutlet="dropdownHeader; context: {$impicit: this}">
            </ng-container>
        </ng-container>
        <ng-container *ngIf="!toggleDirective.collapsed">

            <div style="position: relative;">
                <ng-template igxFor let-item [igxForOf]="data | comboFiltering:filteringExpressions:filteringLogic:caller:pipeTrigger" [igxForScrollOrientation]="'vertical'"
                    [igxForContainerSize]="listHeight" [igxForItemSize]="listItemHeight">
                    <igx-combo-item [itemData]="item" isHeader={{item[groupKey]}}>
                        <ng-container *ngTemplateOutlet="template; context: {$implicit: item, data: data, valueKey: valueKey};"></ng-container>
                    </igx-combo-item>
                </ng-template>
            </div>
            <div *ngIf="filteredData.length === 0" style="text-align: center;">
                <ng-container *ngTemplateOutlet="addItem; context: {$impicit: this}">


                </ng-container>
            </div>
        </ng-container>
        <ng-container *ngIf="!toggleDirective.collapsed">
            <ng-container *ngTemplateOutlet="dropdownFooter; context: {$impicit: this}"></ng-container>
        </ng-container>
    </div>
</div>
<!--  -->

<!-- <button igxButton="raised" igxRipple (click)="toggleDropDown()">Toggle</button> -->
<!-- <div class="igx-combo" [style.width]="width">

    <igx-input-group>
        <input (keyup)="hanldeKeyDown($event)" (focus)="toggleDropDown($event, true)" igxInput name="comboInput" type="text" [(ngModel)]="value"
        />
        <label igxLabel for="comboInput">{{placeholder}}</label>
    </igx-input-group>
    <igx-drop-down (onSelection)="onSelection($event)" [width]="width">
        <ng-container *ngTemplateOutlet="dropdownHeader; context: {$impicit: this}">
        </ng-container>
        <igx-drop-down-item *ngIf="data.length === 0; else content" isDisabled={{true}}>
            There are no items to be displayed.
        </igx-drop-down-item>
        <ng-template #content>
            <igx-drop-down-item *ngFor="let item of data | comboFiltering:filteringExpressions:filteringLogic:caller:pipeTrigger" isHeader={{item[groupKey]}}>
                <ng-container *ngTemplateOutlet="template; context: {$implicit: item, data: data, primaryKey: primaryKey};"></ng-container>
            </igx-drop-down-item>
        </ng-template>
        <ng-container *ngTemplateOutlet="dropdownFooter; context: {$impicit: this}">
        </ng-container>
    </igx-drop-down>
    <div class=""></div>
</div> -->